{% extends "app/layout.html" %}

{% block content %}

<div class="jumbotron">
    <h1>Hangman</h1>
    <p class="lead">Just a simple game, this shouldn't take me long'.</p>

</div>
<textarea id="chat-log" cols="100" rows="20"></textarea>
<br>
<input id="chat-message-input" type="text" size="100">
<br>
<input id="chat-message-submit" type="button" value="Send">
{{ room_name|json_script:"room-name" }}
<script>
        const roomName = JSON.parse(document.getElementById('room-name').textContent);

        const chatSocket = new WebSocket(
            'ws://'
            + window.location.host
            + '/ws/guess/'

        );

        chatSocket.onmessage = function(e) {
            const data = JSON.parse(e.data);
            document.querySelector('#chat-log').value += (data.message + '\n');
        };

        chatSocket.onclose = function(e) {
            console.error('Chat socket closed unexpectedly');
        };

        document.querySelector('#chat-message-input').focus();
        document.querySelector('#chat-message-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#chat-message-submit').click();
            }
        };

        document.querySelector('#chat-message-submit').onclick = function(e) {
            const messageInputDom = document.querySelector('#chat-message-input');
            const message = messageInputDom.value;
            chatSocket.send(JSON.stringify({
                'message': message
            }));
            messageInputDom.value = '';
    };
        </script>























<div class="current_stage">You have already tried: {{GuessedAndWrong}}</div>

<div class="Hangman_svg">
    <svg width="900" height="800">
        <rect width="900" height="800" x="0" y="0" fill="white" />
        <!-- start of gallows-->

        <rect x="20" y="770" width="750" height="15" fill="Brown" />
        <rect x="20" y="20" width="450" height="15" fill="Brown" />

        <rect x="470" y="20" width="15" height="75" fill="Brown" />
        <rect x="20" y="20" width="15" height="750" fill="Brown" />
        <!-- end of gallows-->
        <!-- start of Head-->
        <circle cx="490" cy="145" r="85" fill="Black" />

        <circle cx="490" cy="145" r="70" fill="White" />
        <!-- end of Head-->
        <!-- start of Body-->
        <rect x="490" y="225" width="15" height="300" fill="Black" />
        <!-- end of Body-->
        <!-- start of LLEG-->
        <rect x="330" y="525" width="160" height="15" fill="Black" />
        <!-- end of LLEG-->
        <!-- start of RLEG-->
        <rect x="490" y="525" width="160" height="15" fill="Black" />
        <!-- end of RLEG-->
        <!-- start of LARM-->
        <rect x="330" y="275" width="160" height="15" fill="Black" />
        <!-- end of LARM-->
        <!-- start of RARM-->
        <rect x="490" y="275" width="160" height="15" fill="Black" />
        <!-- end of RARM-->

    </svg>

</div>
<div class="current_stage">{{current}}</div>
<div class="current_stage">your last guess was {{correct}}</div>


<div class="Game_logic_container">
    <p>
        <form action="/play/" method="post">
            <label for="Guess">you are the current player; make a guess: </label>
            <input type="text" id="Guess" name="Guess_txt"><br><br>
            <input type="submit">

        </form>
    </p>
</div>
<!--
<div class="row">
    <div class="col-md-4">
        <h2>LETS GO</h2>

        <p>
            Django gives you a powerful, patterns-based way to build dynamic websites that
            enables a clean separation of concerns and gives you full control over markup
            for enjoyable, agile development.
        </p>
        <p><a class="btn btn-default" href="https://djangobook.com/django-tutorials/">Learn more &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>Get more libraries</h2>
        <p>The Python Package Index is a repository of software for the Python programming language.</p>
        <p><a class="btn btn-default" href="https://pypi.org/">Learn more &raquo;</a></p>
    </div>
    <div class="col-md-4">
        <h2>Microsoft Azure</h2>
        <p>You can easily publish to Microsoft Azure using Visual Studio. Find out how you can host your application using a free trial today.</p>
        <p><a class="btn btn-default" href="http://azure.microsoft.com">Learn more &raquo;</a></p>
    </div>
</div>
    -->
{% endblock %}
